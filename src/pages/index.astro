---
import Layout from "../layouts/Layout.astro";
import AuthGate from "../components/app/AuthGate.astro";
import AppHeader from "../components/app/AppHeader.astro";
import AlertBanner from "../components/app/AlertBanner.astro";
import DashboardCards from "../components/app/DashboardCards.astro";
import QuickNav from "../components/app/QuickNav.astro";
import SummaryPanel from "../components/app/SummaryPanel.astro";
import StoragePanel from "../components/app/StoragePanel.astro";
import MovementPanel from "../components/app/MovementPanel.astro";
---

<Layout>
	<main
		class="page-shell flex min-h-screen w-full flex-col gap-10 px-4 py-10 sm:px-6 lg:px-12 lg:py-16 2xl:px-20"
	>
		<AuthGate />
		<section
			data-section="app"
			data-hidden="true"
			class="mx-auto w-full max-w-7xl space-y-6 rounded-[32px] border border-white/10 bg-white/5 p-5 shadow-[0_35px_120px_rgba(0,0,0,0.55)] backdrop-blur-2xl sm:p-8"
		>
			<AppHeader />
			
			<!-- Alert Banner for urgent notifications -->
			<section data-guarded>
				<AlertBanner />
			</section>
			
			<!-- Dashboard Stats Cards -->
			<section data-guarded>
				<DashboardCards />
			</section>
			
			<!-- Quick Navigation -->
			<section data-guarded class="grid gap-6 lg:grid-cols-[1fr_320px]">
				<div class="space-y-6">
					<SummaryPanel />
					<div class="grid gap-6 lg:grid-cols-2">
						<StoragePanel />
						<MovementPanel />
					</div>
				</div>
				<QuickNav />
			</section>
		</section>
	</main>
	<div id="app-toast" role="status" aria-live="polite"></div>
</Layout>
